<!doctype html>
<html lang="en">
<head>

  <meta charset="utf-8" />
  <title>D3.js Slider Examples</title>
  <link rel="stylesheet" href="d3.slider.css" />  
  <style>
  .line {
    fill: none;
    stroke: steelblue;
    stroke-width: 2px;
}

    body {
      font-family: Verdana,Arial,sans-serif;
    }

    h2 {
      font-size: 1.2em;
      margin: 60px 0 5px 0;
    }

    .wrapper {
      width: 800px;
      margin-left: auto;
      margin-right: auto;
    }

    .wrapper > div {
      margin: 35px 0;
    }


  </style>
</head>
<body>



  <div class="wrapper">

  	<h1>D3.js Slider Examples</h1>


    <h2>Range Slider with event, values: <span id="slider3textmin">10</span>, <span id="slider3textmax">25</span></h2>
    <div id="slider3"></div>


  </div>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/d3.v3.min.js"></script>



<script>

    // set the dimensions and margins of the graph
    var margin = {top: 20, right: 20, bottom: 30, left: 50},
        width = 960 - margin.left - margin.right,
        height = 500 - margin.top - margin.bottom;
    // parse the date / time
    var parseTime = d3.timeParse("%y");
    // set the ranges
    var x = d3.scaleLinear().range([0,width]);
    var y = d3.scaleLinear().range([height, 0]);
    // define the line
    var valueline = d3.line()
        .x(function(d) { return x(d.TIME); })
        .y(function(d) { return y(d.Value); });
    // append the svg obgect to the body of the page
    // appends a 'group' element to 'svg'
    // moves the 'group' element to the top left margin
    var svg = d3.select("body").append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform",
            "translate(" + margin.left + "," + margin.top + ")");
    // Get the data
    d3.csv("data/testData.csv", function(error, data) {
        if (error) throw error;
        // format the data
        data.forEach(function(d) {
            d.TIME = +d.TIME;
            d.Value = +d.Value;
        });
        // Scale the range of the data
        x.domain([d3.min(data, function(d) { return d.TIME; }), d3.max(data, function(d) { return d.TIME; })]);
        y.domain([d3.min(data, function(d) { return d.Value; }), d3.max(data, function(d) { return d.Value; })]);
        // Add the valueline path.
        svg.append("path")
            .data([data])
            .attr("class", "line")
            .attr("d", valueline);
        // Add the X Axis
        svg.append("g")
            .attr("transform", "translate(0," + height + ")")
            .call(d3.axisBottom(x));
        // Add the Y Axis
        svg.append("g")
            .call(d3.axisLeft(y));
    });


</script>

<script src="d3.slider.js"></script>
<script>


    d3.select('#slider3').call(d3.slider().axis(true).value( [1990, 2012] ).on("slide", function(evt, value) {
      d3.select('#slider3textmin').text(value[ 0 ]);
      d3.select('#slider3textmax').text(value[ 1 ]);
    }));



</script>
 
</body>
</html>









